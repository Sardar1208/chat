(this.webpackJsonpchat=this.webpackJsonpchat||[]).push([[0],{100:function(e,t,n){},101:function(e,t,n){},103:function(e,t,n){"use strict";n.r(t);var s=n(1),c=n.n(s),a=n(52),r=n.n(a),o=(n(60),n(2)),i=n(17),l=n(6),u=(n.p,n(3)),d=n.n(u),b=n(53),j=n(4),x=(n(62),c.a.createContext()),m=n(0);function g(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"smooth";console.log("behaviour: ",t),e.current&&e.current.scrollIntoView({behavior:t})}var h=function(e){var t=Object(s.useContext)(x),n=t.lastElmRef,c=(t.currentContact,Object(s.useState)([])),a=Object(o.a)(c,2),r=(a[0],a[1]),i=Object(s.useState)([]),l=Object(o.a)(i,2),u=l[0],b=l[1],h=Object(s.useState)(!1),p=Object(o.a)(h,2),f=p[0],v=p[1];return Object(s.useEffect)((function(){g(n,"auto")}),[u]),Object(s.useEffect)(Object(j.a)(d.a.mark((function t(){var n,s,c,a;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.commonMsg.map((function(e){var t=new Date(parseInt(e.time)),n=t.toLocaleTimeString().split(" "),s=n[0].slice(0,-3)+" "+n[1];return{data:e.data,sender:e.sender,time:s,date:t.toDateString().slice(4)}}));case 2:return n=t.sent,t.next=5,e.pendingMsg.map((function(e){var t=new Date(parseInt(e.time)),n=t.toLocaleTimeString().split(" "),s=n[0].slice(0,-3)+" "+n[1];return{data:e.data,sender:e.sender,time:s,date:t.toDateString().slice(4)}}));case 5:s=t.sent,c=n.concat(s),r(c),b((a=n).splice(a.length-25,25));case 10:case"end":return t.stop()}}),t)}))),[e.pendingMsg,e.commonMsg]),Object(m.jsxs)("div",{className:"messages bg-white overflow-auto relative",onScroll:function(e){console.log("scrolling",e.target.clientHeight),e.target.scrollHeight-(e.target.scrollTop+e.target.clientHeight)>500&&v(!0),e.target.scrollHeight-(e.target.scrollTop+e.target.clientHeight)<500&&v(!1)},children:[u.map((function(e,t,n){var s;return Object(m.jsxs)(m.Fragment,{children:[(null===(s=n[t-1])||void 0===s?void 0:s.date)!==n[t].date?Object(m.jsx)("span",{className:"justify-center flex",children:Object(m.jsx)("span",{className:"bg-cyan-100 px-3 py-1 rounded-xl text-xs text-cyan-500",children:n[t].date})}):null,Object(m.jsx)("div",{className:"",children:Object(m.jsxs)("div",{className:("me"==e.sender?"bg-violet-500 text-white ml-auto mr-8 rounded-l-2xl rounded-br-2xl relative":"bg-blueGray-200 max-w-2xl mr-auto ml-8 rounded-r-2xl rounded-bl-2xl relative")+" my-3 px-4 py-3 break-words chat-bubble",children:["me"==e.sender?Object(m.jsx)("div",{className:"border-violet-500 triangle absolute top-0 -right-4"}):Object(m.jsx)("div",{className:"border-blueGray-200 triangle absolute top-0 -left-4"}),Object(m.jsx)("div",{className:"break-words www",children:e.data}),Object(m.jsx)("div",{className:"me"==e.sender?"text-tiny text-violet-200 text-right":"text-tiny text-gray-500 text-right",children:e.time})]},t+"-"+e.data)})]})})),Object(m.jsx)("div",{ref:n,className:"mt-12"}),f?Object(m.jsx)("div",{onClick:function(){g(n)},className:"fixed bottom-20 flex justify-center items-center w-9/12 cursor-pointer",children:Object(m.jsx)("img",{src:"/svg/down.svg",width:"24px"})}):Object(m.jsx)(m.Fragment,{})]})},p={A:"/svg/Profile1.svg",B:"/svg/Profile2.svg",C:"/svg/Profile3.svg",D:"/svg/Profile4.svg",E:"/svg/Profile5.svg",F:"/svg/Profile6.svg"};function f(e,t){return v.apply(this,arguments)}function v(){return(v=Object(j.a)(d.a.mark((function e(t,n){var s,c,a,r,o,i,l;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("running getunreadcount"),e.next=3,fetch("http://localhost:8080/get_data",{method:"POST",headers:{"Content-Type":"application/json",get:"pending_messages"},body:JSON.stringify({conversation_IDs:t,sender_ID:sessionStorage.getItem("loggedInMobile")})});case 3:return s=e.sent,e.next=6,s.json();case 6:c=e.sent,console.log("the wait is here: ",c.result),a={},r=Object(b.a)(c.result);try{for(r.s();!(o=r.n()).done;)i=o.value,(l=a)[i.conversation_ID]=[i.unread_count,i.lastMessage],a=l}catch(u){r.e(u)}finally{r.f()}console.log("the new state: ",a),n(a);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(){return(O=Object(j.a)(d.a.mark((function e(t,n,s){var c,a,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("from :",s),e.next=3,fetch("http://localhost:8080/get_data",{method:"POST",headers:{"Content-Type":"application/json",get:"users"},body:JSON.stringify({reciever_mobile:sessionStorage.getItem("loggedInMobile")})});case 3:return c=e.sent,e.next=6,c.json();case 6:a=e.sent,t(a.result),"no users"!=a.result&&(console.log("the new result is::",s),r=a.result.map((function(e){return e.conversation_ID})),n(r));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var y=function(e){Object(l.f)();var t=Object(s.useState)(),n=Object(o.a)(t,2),c=n[0],a=n[1],r=Object(s.useContext)(x),i=r.contacts,u=(r.setContacts,r.setCurrentContact),d=r.userSocket,b=r.lastElmRef,j=r.unreadCount,h=r.setUnreadCount,v=r.conversationIds;return r.setConversationIds,Object(s.useEffect)((function(){console.log("getting unread count"),f(v,h)}),[v]),Object(s.useEffect)((function(){if(console.log("making final list",i),i.length>0&&"no users"!=i){var t=i.map((function(t){if(t)return console.log("dog cat: ",j),Object(m.jsxs)("div",{className:"chat-head mb-2 hover:bg-violet-500 group grid grid-cols-10 bg-white-400 shadow-md p-4 mx-3 rounded-xl ",onClick:function(){var n;u(t),e.loadMessages(t.conversation_ID),n=t.mobile,g(b),d.emit("update_current_chat",{user_mobile:sessionStorage.getItem("loggedInMobile"),contact_mobile:n})},children:[Object(m.jsx)("div",{className:"card-img col-span-2",children:Object(m.jsx)("img",{src:"".concat(p[t.avatar])})}),Object(m.jsx)("div",{className:"card-text col-span-7 text-white",children:Object(m.jsxs)("div",{className:"text-body",children:[Object(m.jsx)("h1",{className:"text-black group-hover:text-white text-2xl",children:t.name}),Object(m.jsx)("h5",{className:"group-hover:text-violet-200 text-gray-500 text-base",children:j["".concat(t.conversation_ID)]&&j["".concat(t.conversation_ID)][1]?j["".concat(t.conversation_ID)][1]:"No chat history"})]})}),Object(m.jsx)("div",{className:"unread col-span-1",children:Object(m.jsx)("div",{children:Object(m.jsx)("span",{children:j["".concat(t.conversation_ID)]&&j["".concat(t.conversation_ID)][0]>0?j["".concat(t.conversation_ID)][0]:""})})})]})}));t.length==i.length&&a(t)}}),[j,i]),Object(m.jsxs)("div",{className:"my-2",style:{display:e.display},children:[console.log("rendered"),c]})},N=n(16);n(68);var w=function(e){var t=c.a.useContext(x).loggedInUsername;return e.pendingRequestcolor,Object(m.jsxs)("div",{className:"left-navbar bg-violet-500 shadow",children:[Object(m.jsx)("div",{children:Object(m.jsx)("span",{className:"font-semibold text-2xl pl-4 text-white",children:t})}),Object(m.jsxs)("div",{className:"h-full flex w-1/2 justify-between",children:[Object(m.jsxs)("button",{className:"relative inline-block requests-btn flex-1 justify-center flex items-center hover:bg-violet-600",onClick:function(){e.function("chats")},children:[Object(m.jsx)("img",{src:"/svg/people.svg",width:"25px"}),Object(m.jsx)("span",{className:"tooltip-text absolute bg-gray-800 text-gray-100 shadow text-center rounded-lg top-full z-10 -right-3 mt-2 w-20",children:"Chat"})]}),Object(m.jsxs)("button",{className:"relative inline-block add-friend-btn flex-1 justify-center flex items-center hover:bg-violet-600",onClick:function(){e.function("add_friend")},children:[Object(m.jsx)("img",{src:"/svg/add.svg",width:"25px"}),Object(m.jsx)("span",{className:"tooltip-text absolute bg-gray-800 text-gray-100 shadow text-center rounded-lg z-10 top-full -right-4 mt-2 w-24",children:"Add Friends"})]}),Object(m.jsxs)("button",{className:"relative inline-block requests-btn flex-1 justify-center flex items-center hover:bg-violet-600",onClick:function(){e.function("pending_requests")},children:[Object(m.jsx)("img",{src:"/svg/friends.svg",width:"25px"}),Object(m.jsx)("span",{className:"tooltip-text absolute bg-gray-800 text-gray-100 shadow text-center rounded-lg z-100 top-full -right-1 mt-2 w-20",children:"Requests"})]})]})]})},S=n(24);n(69);var _=function(e){var t=c.a.useContext(x).currentContact,n="menu-id",s=Object(S.d)({id:n}).show;return Object(m.jsxs)("div",{className:"my-navbar bg-violet-50 shadow-lg flex",children:[Object(m.jsx)("img",{src:"".concat(p[t.avatar]),className:"profile-img ml-4"}),Object(m.jsx)("a",{href:"/home",children:Object(m.jsx)("h3",{className:"text-gray-700 text-2xl",children:t.name})}),Object(m.jsx)("div",{className:"ml-auto mr-4",onClick:function(e){s(e)},children:Object(m.jsx)("img",{src:"/svg/options.svg",width:"25px"})}),Object(m.jsx)(S.b,{id:n,animation:S.c.fade,className:"mt-4 mr-4",children:Object(m.jsx)(S.a,{onClick:function(){e.Unfriend(t.conversation_ID,t.name)},children:"Unfriend"})})]})};var I=function(e){return Object(m.jsxs)("div",{className:"friends-innerdiv px-4 flex justify-center align-center flex-col",children:[Object(m.jsx)("h3",{className:"friends-heading text-violet-800",children:"You can add friends using their username or password. Note it's case sensitive."}),Object(m.jsx)("input",{type:"text",placeholder:"Enter Username/Ph.no",className:"text-base w-full px-3 py-2.5 placeholder-blueGray-300 text-blueGray-600 border-2 rounded bg-white rounded text-sm outline-none focus:outline-none focus:ring "+("red"===e.reqSentObj.color?"border-red-400":"border-blueGray-300"),onKeyPress:function(t){"Enter"===t.key&&(console.log("wel wel wel"),e.searchContact())},onChange:function(t){e.setfriendsText(t.target.value)},value:e.friendsText}),Object(m.jsx)("span",{className:"text-xs ml-2",style:{color:e.reqSentObj.color},children:e.reqSentObj.content}),Object(m.jsx)("div",{className:"m-auto",children:Object(m.jsx)("button",{className:"bg-violet-500 mt-4 px-4 py-2 text-md font-semibold rounded-xl text-white shadow-md",onClick:e.searchContact,children:"Send Request"})})]})};var k=function(e){var t=Object(s.useContext)(x),n=(t.contacts,t.setContacts),c=t.setConversationIds,a=Object(s.useState)("none"),r=Object(o.a)(a,2),i=r[0],l=r[1],u=Object(s.useState)("none"),d=Object(o.a)(u,2),b=d[0],j=d[1],g=Object(s.useState)("none"),h=Object(o.a)(g,2),f=h[0],v=h[1],y=Object(s.useState)(["black","600","blue"]),N=Object(o.a)(y,2),w=N[0],S=N[1],_=Object(s.useState)(["gray","600","transparent"]),I=Object(o.a)(_,2),k=I[0],C=I[1],q=Object(s.useState)([]),D=Object(o.a)(q,2),T=D[0],M=D[1],G={color:w[0],fontWeight:w[1],borderColor:w[2]},P={color:k[0],fontWeight:k[1],borderColor:k[2]};return Object(s.useEffect)((function(){!function(e,t,n){O.apply(this,arguments)}(n,c,"PendingRequests");var t=e.requests.map((function(t){if(t)return Object(m.jsxs)("div",{className:"request-block bg-white mt-2 mx-3 rounded-xl overflow-hidden shadow-md",children:[Object(m.jsxs)("div",{className:"flex items-center p-3",children:[Object(m.jsx)("img",{src:p[t.sender_avatar],width:"70px"}),Object(m.jsx)("span",{className:"pl-2 text-xl",children:t.sender_name})]}),Object(m.jsxs)("div",{className:"flex bg-violet-500 flex-col",children:[Object(m.jsx)("button",{className:"p-1 accept-btn flex-1 px-3 hover:bg-violet-600",onClick:function(){e.respond_request("accepted",t.sender_mobile)},children:Object(m.jsx)("img",{src:"/svg/sent.svg",width:"30px"})}),Object(m.jsx)("button",{className:"p-1 decline-btn flex-1 px-3",on:!0,onClick:function(){e.respond_request("declined",t.sender_mobile)},children:Object(m.jsx)("img",{src:"/svg/cross.svg",width:"30px"})})]})]})}));0==t.length?l("flex"):l("none"),e.setRequestList(t)}),[e.requests]),Object(s.useEffect)((function(){var t=e.activeRequests.map((function(t){if(t)return Object(m.jsxs)("div",{className:"request-block bg-white mt-2 mx-3 rounded-xl overflow-hidden shadow-md",children:[Object(m.jsxs)("div",{className:"flex items-center p-3",children:[Object(m.jsx)("img",{src:p[t.reciever_avatar],width:"70px"}),Object(m.jsx)("span",{className:"pl-2 text-xl",children:t.reciever_name})]}),Object(m.jsx)("div",{className:"flex bg-violet-500 flex-col",children:Object(m.jsx)("button",{className:"p-1 decline-btn flex-1 px-3",on:!0,onClick:function(){e.deleteActiveRequest(t.reciever_mobile)},children:Object(m.jsx)("img",{src:"/svg/cross.svg",width:"30px"})})})]})}));0==t.length?l("flex"):l("none"),M(t)}),[e.activeRequests]),Object(m.jsxs)("div",{className:"h-full bg-violet-50",children:[Object(m.jsxs)("div",{className:"flex justify-center bg-white mb-4",children:[Object(m.jsx)("span",{onClick:function(){C(["grey","default","transparent"]),S(["black","600","blue"]),v("none"),j("block")},className:"text-lg flex-1 mx-2 py-2 text-center text-gray-500 border-blue-200 border-b-2 cursor-default hover:text-black hover:border-black hover:cursor-pointer pending-tab",style:G,children:"RECEIVED"}),Object(m.jsx)("span",{onClick:function(){S(["grey","default","transparent"]),C(["black","600","blue"]),j("none"),v("block")},className:"flex-1 text-lg mx-2 py-2 text-center text-gray-500 border-blue-200 border-b-2 cursor-default hover:text-black hover:border-black hover:cursor-pointer active-tab",style:P,children:"SENT"})]}),Object(m.jsxs)("div",{className:"h-full",style:{display:f},children:[Object(m.jsx)("div",{className:"no-req h-full m-auto flex",style:{display:i},children:Object(m.jsx)("h4",{className:"text-center m-auto self-center text-gray-600",children:"There are no active requests."})}),Object(m.jsx)("div",{children:T})]}),Object(m.jsxs)("div",{className:"h-full",style:{display:b},children:[Object(m.jsx)("div",{className:"no-req h-full m-auto flex",style:{display:i},children:Object(m.jsx)("h4",{className:"text-center m-auto self-center text-gray-600",children:"There are no pending friend requests."})}),Object(m.jsx)("div",{children:e.requestList})]})]})};var C=function(e){return Object(m.jsxs)("div",{className:"flex bg-white items-center justify-center flex-col font-sans text-gray-500 text-lg ",children:[Object(m.jsx)("img",{src:"/svg/logo.svg"}),Object(m.jsxs)("h1",{className:"text-4xl font-bold text-gray-700 tracking-wider mb-10",children:["Hey! ",e.username]}),Object(m.jsx)("p",{className:"text-xl font-bold",children:"Welcome to converse, Here are some tips to get you started"}),Object(m.jsxs)("ul",{className:"list-disc",children:[Object(m.jsx)("li",{children:Object(m.jsx)("p",{className:"mb-0.5",children:"Head to the left section to select the person you want to chat with"})}),Object(m.jsx)("li",{children:Object(m.jsx)("p",{children:"Click on the add friend icon on top-left to add friends"})})]})]})};var q=function(e){var t=c.a.useContext(x),n=t.currentContact,a=t.userSocket,r=t.lastElmRef,i=t.textQueue,l=t.setTextQueue,u=c.a.useState(""),b=Object(o.a)(u,2),h=b[0],p=b[1];function f(){return v.apply(this,arguments)}function v(){return(v=Object(j.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:h.length>0&&(t={text:"".concat(h),reciever_mobile:"".concat(n.mobile),conversation_ID:"".concat(n.conversation_ID)},p(""),l([].concat(Object(N.a)(i),[t])));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(){return(O=Object(j.a)(d.a.mark((function t(n){var s,c,o;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("http://localhost:8080/get_data",{method:"POST",headers:{"Content-Type":"application/json",get:"socketID"},body:JSON.stringify({reciever_mobile:"".concat(n.reciever_mobile)})});case 2:return s=t.sent,t.next=5,s.json();case 5:"success"==(c=t.sent).result?(a.emit("texty",{recieverID:"".concat(c.socket_ID),text:"".concat(n.text),reciever_mobile:"".concat(n.reciever_mobile),conversation_ID:"".concat(n.conversation_ID),sender_ID:"".concat(sessionStorage.getItem("loggedInMobile"))}),o=[].concat(Object(N.a)(e.commonMsg),[{sender:"me",data:n.text,time:Date.now()}]),e.setcommonMsg(o),console.log("and the lucky number is: ",c.current_chat),g(r)):e.setTextQueueOpen(!0);case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(s.useEffect)((function(){console.log("textQueueOpen: ",e.textQueueOpen),1==e.textQueueOpen&&i.length>0&&(console.log("initiating sending procedure..."),e.setTextQueueOpen(!1),function(e){O.apply(this,arguments)}(i[0]))}),[i]),Object(m.jsxs)("div",{className:"flex flex-start bg-white items-center pb-3",children:[Object(m.jsx)("div",{className:"mb-1 pt-1 flex relative flex-1",children:Object(m.jsx)("input",{type:"text",onKeyPress:function(e){"Enter"===e.key&&f()},placeholder:"Type a message",className:"text-base ml-4 mr-12 px-3 py-2.5 placeholder-blueGray-300 text-blueGray-600 border rounded border-blueGray-300 bg-transparent rounded text-sm outline-none focus:outline-none focus:ring w-full",onChange:function(e){p(e.target.value)},value:h})}),Object(m.jsx)("div",{className:"mr-4 bg-violet-500 px-4 py-2.5 rounded-xl",onClick:f,children:Object(m.jsx)("img",{src:"/svg/send.svg",width:"24px"})})]})};var D=function(){var e=Object(l.f)(),t=c.a.useContext(x),n=t.userSocket,a=t.setUnreadCount,r=t.unreadCount,i=t.conversationIds,u=(t.setLoggedInUsername,t.currentContact),b=t.lastElmRef,p=t.textQueue,v=t.setTextQueue,O=t.contacts,S=t.setContacts,D=c.a.useState(""),T=Object(o.a)(D,2),M=T[0],G=T[1],P=c.a.useState([]),L=Object(o.a)(P,2),R=L[0],E=L[1],U=c.a.useState([]),F=Object(o.a)(U,2),J=F[0],Q=F[1],A=c.a.useState([]),H=Object(o.a)(A,2),W=H[0],K=H[1],z=c.a.useState([]),B=Object(o.a)(z,2),V=B[0],Y=B[1],X=c.a.useState([]),Z=Object(o.a)(X,2),$=Z[0],ee=Z[1],te=c.a.useState("none"),ne=Object(o.a)(te,2),se=ne[0],ce=ne[1],ae=c.a.useState("none"),re=Object(o.a)(ae,2),oe=re[0],ie=re[1],le=c.a.useState("block"),ue=Object(o.a)(le,2),de=ue[0],be=ue[1],je=c.a.useState(!0),xe=Object(o.a)(je,2),me=xe[0],ge=(xe[1],c.a.useState(!0)),he=Object(o.a)(ge,2),pe=he[0],fe=he[1],ve=c.a.useState("none"),Oe=Object(o.a)(ve,2),ye=Oe[0],Ne=Oe[1],we=c.a.useState({color:"transparent",content:""}),Se=Object(o.a)(we,2),_e=Se[0],Ie=Se[1],ke=c.a.useState("rgb(228, 228, 231)"),Ce=Object(o.a)(ke,2),qe=Ce[0],De=Ce[1],Te={display:se},Me={display:oe};function Ge(){return(Ge=Object(j.a)(d.a.mark((function e(t,s){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.emit("unfriend",{conversation_ID:t,unfriended_username:s,mobile:sessionStorage.getItem("loggedInMobile")});case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Pe(){return(Pe=Object(j.a)(d.a.mark((function e(t,n){var s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("in here"),e.next=3,fetch("http://localhost:8080/respond_request",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sender_mobile:"".concat(n),reciever_mobile:sessionStorage.getItem("loggedInMobile"),response:t})});case 3:return s=e.sent,e.next=6,s.json();case 6:"success"==e.sent.result&&Ee();case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Le(e){return Re.apply(this,arguments)}function Re(){return(Re=Object(j.a)(d.a.mark((function e(t){var n,s,c,a,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=sessionStorage.getItem("loggedInMobile"),e.next=3,fetch("http://localhost:8080/get_data",{method:"POST",headers:{"Content-Type":"application/json",get:"messages"},body:JSON.stringify({conversation_ID:"".concat(t),sender_ID:"".concat(n)})});case 3:return s=e.sent,e.next=6,s.json();case 6:"success"==(c=e.sent).result&&(console.log("messages in this convo: ",c),a=c.messages.map((function(e){var t="";return t=e.sender_ID==n?"me":e.sender_ID,{sender:"".concat(t),data:"".concat(e.msg),time:"".concat(e.msg_time)}})),r=c.pending_messages.map((function(e){var t="";return t=e.sender_ID==n?"me":e.sender_ID,{sender:"".concat(t),data:"".concat(e.msg),time:"".concat(e.msg_time)}})),console.log("the final texts are: ",a),E([].concat(Object(N.a)(a),Object(N.a)(r))),g(b));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ee(){return Ue.apply(this,arguments)}function Ue(){return(Ue=Object(j.a)(d.a.mark((function e(){var t,n,s,c,a,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("running pending requests..."),e.next=3,fetch("http://localhost:8080/get_data",{method:"POST",headers:{"Content-Type":"application/json",get:"pending_requests"},body:JSON.stringify({mobile:"".concat(sessionStorage.getItem("loggedInMobile"))})});case 3:return s=e.sent,e.next=6,s.json();case 6:c=e.sent,a=null===(t=c.result)||void 0===t?void 0:t.map((function(e){if(e.reciever_mobile==sessionStorage.getItem("loggedInMobile")&&"pending"==e.req_status){var t=c.names.filter((function(t){return t.mobile_no==e.sender_mobile})),n=c.names.filter((function(t){return t.mobile_no==e.reciever_mobile}));return console.log("sender name: ",t[0].fullName,n[0].fullName),{reciever_name:n[0].fullName,sender_name:t[0].fullName,reciever_mobile:e.reciever_mobile,sender_mobile:e.sender_mobile,reciever_avatar:n[0].avatarFlag,sender_avatar:t[0].avatarFlag}}})),r=null===(n=c.result)||void 0===n?void 0:n.map((function(e){if(e.sender_mobile==sessionStorage.getItem("loggedInMobile")&&"pending"==e.req_status){console.log("something");var t=c.names.filter((function(t){return t.mobile_no==e.sender_mobile})),n=c.names.filter((function(t){return t.mobile_no==e.reciever_mobile}));return console.log("sender name: ",t[0].fullName,n[0].fullName),{reciever_name:n[0].fullName,sender_name:t[0].fullName,reciever_mobile:e.reciever_mobile,sender_mobile:e.sender_mobile,reciever_avatar:n[0].avatarFlag,sender_avatar:t[0].avatarFlag}}return console.log("nothing"),null})),console.log("active requests: ",r),console.log("pending requests: ",a),r!==V&&Y(r),a!==W&&K(a);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Fe(){return(Fe=Object(j.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.emit("delete_request",{sender_mobile:sessionStorage.getItem("loggedInMobile"),reciever_mobile:t,socket_ID:n.id});case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Je(){return(Je=Object(j.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.emit("sending_request",{sender_mobile:"".concat(sessionStorage.getItem("loggedInMobile")),sender_username:"".concat(sessionStorage.getItem("loggedInUser")),reciever_uniqueKey:"".concat(M)});case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(s.useEffect)(Object(j.a)(d.a.mark((function t(){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return!1||(n?(n.once("incoming-text",(function(e){console.log("incoming-text");var t=[].concat(Object(N.a)(R),[{sender:e.sender_ID,data:e.text,time:e.time}]),n=r;n[e.conversation_ID]=[0,e.text],a(n),E(t)})),n.on("incoming-pending-text",(function(e){console.log("got it hululululu"),f(i,a)})),n.once("recieving_request",(function(e){console.log("got a new friend request: ",e),De("rgb(121, 121, 233)")})),n.once("deleted active request",(function(e){console.log("info: ",e.info),Ee()})),n.on("text-sent",(function(e){if(p.length>0){console.log("text sent: ",p);var t=Object(N.a)(p);t.splice(0,1),v(t),fe(!0)}})),n.on("request-sent",(function(e){console.log("request sent"),"success"==e.info?(Ne("block"),Ie({color:"green",content:"Friend request sent"}),G("")):(Ne("block"),Ie({color:"red",content:"User not found"}))})),n.on("unfriended",(function(e){console.log("you have been unfriended");var t=O.map((function(t){if(t.conversation_ID!=e.conversation_ID)return t}));console.log("new contacts: ",t),S(t)})),n.on("unfriend done",(function(e){console.log("you have unfirended someone");var t=O.map((function(t){if(t.conversation_ID!=e.conversation_ID)return t}));console.log("new contacts: ",t),S(t)}))):(console.log("in here brouh"),e.push("/"))),t.abrupt("return",(function(){!0}));case 3:case"end":return t.stop()}}),t)}))),[R]),Object(m.jsxs)("div",{className:"split-view",children:[Object(m.jsxs)("div",{className:"contacts-section bg-violet-50",children:[Object(m.jsx)(w,{function:function(e){"add_friend"==e?(be("none"),ie("none"),ce("flex")):"pending_requests"==e?(Ee(),be("none"),ce("none"),ie("block")):"chats"==e&&(be("block"),ce("none"),ie("none"))},pendingRequestcolor:qe}),Object(m.jsx)(y,{display:de,loadMessages:Le,commonMsg:R,setcommonMsg:E,pendingMsg:J,setpendingMsg:Q,pending_text_in:me}),Object(m.jsx)("div",{className:"friends-section bg-violet-50",style:Te,children:Object(m.jsx)(I,{friendsText:M,setfriendsText:G,searchContact:function(){return Je.apply(this,arguments)},reqSentDisplay:ye,setReqSentDisplay:Ne,reqSentObj:_e})}),Object(m.jsx)("div",{className:"pending_requests",style:Me,children:Object(m.jsx)(k,{requests:W,requestList:$,setRequestList:ee,respond_request:function(e,t){return Pe.apply(this,arguments)},activeRequests:V,deleteActiveRequest:function(e){return Fe.apply(this,arguments)}})})]}),Object.keys(u).length>0?Object(m.jsx)("div",{className:"chat-section",children:Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(_,{Unfriend:function(e,t){return Ge.apply(this,arguments)}}),Object(m.jsx)(h,{commonMsg:R,pendingMsg:J,className:"messages_section ",setcommonMsg:E}),Object(m.jsx)(q,{commonMsg:R,setcommonMsg:E,pendingMsg:J,setpendingMsg:Q,loadMessages:Le,textQueueOpen:pe,setTextQueueOpen:fe})]})}):Object(m.jsx)(C,{username:sessionStorage.getItem("loggedInUser")})]})},T=n(105),M=n(27),G=n.n(M);n(100);var P=function(){var e=c.a.useContext(x),t=e.userSocket,n=e.setuserSocket,a=Object(l.f)(),r=Object(s.useState)(),i=Object(o.a)(r,2),u=i[0],b=i[1],g=Object(s.useState)(),h=Object(o.a)(g,2),p=h[0],f=h[1],v=Object(s.useState)(),O=Object(o.a)(v,2),y=O[0],N=O[1],w=Object(s.useState)(""),S=Object(o.a)(w,2),_=S[0],I=S[1],k=Object(s.useState)("block"),C=Object(o.a)(k,2),q=C[0],D=C[1],M=Object(s.useState)("none"),P=Object(o.a)(M,2),L=P[0],R=P[1],E=Object(s.useState)("block"),U=Object(o.a)(E,2),F=U[0],J=U[1],Q=Object(s.useState)("none"),A=Object(o.a)(Q,2),H=A[0],W=A[1],K={display:q},z={display:L},B={display:H},V={display:F};function Y(e,t){return X.apply(this,arguments)}function X(){return(X=Object(j.a)(d.a.mark((function e(t,n){var s,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://localhost:8080/login_user",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({mobile:t,socketID:"".concat(n)})});case 2:return s=e.sent,e.next=5,s.json();case 5:return c=e.sent,e.t0=console,e.next=9,c;case 9:e.t1=e.sent,e.t0.log.call(e.t0,e.t1),"success"==c.result?(sessionStorage.setItem("loggedInUser","".concat(t)),a.push("/textPage")):"new user"==c.result&&(W("block"),J("none"));case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Z(){return(Z=Object(j.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://localhost:8080/user_details",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:p,username:y,mobile:u,socket_ID:_})});case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.t0=console,e.next=9,n;case 9:e.t1=e.sent,e.t0.log.call(e.t0,e.t1),"success"==n.result&&(sessionStorage.setItem("loggedInUser","".concat(u)),a.push("/textPage"));case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(s.useEffect)(Object(j.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(t=G()("http://localhost:8080/")).on("connect",(function(){console.log("connected with id: ".concat(t.id)),n(t),I(t.id);var e=sessionStorage.getItem("loggedInUser");e?(b(e),Y(e,t.id)):(D("none"),R("block"))}));case 2:case"end":return e.stop()}}),e)}))),[]),Object(m.jsxs)("div",{className:"login-page",children:[Object(m.jsx)("div",{className:"loading-screen",style:K,children:Object(m.jsx)(T.a,{animation:"border",role:"status",children:Object(m.jsx)("span",{className:"sr-only",children:"Loading..."})})}),Object(m.jsx)("div",{className:"Login",style:z,children:Object(m.jsxs)("div",{className:"text",children:[Object(m.jsx)("h1",{className:"login-heading",children:"Welcome to Converse!"}),Object(m.jsx)("p",{className:"login-desc",children:"Hi! Converse is a real time chat application that offers the basic functionality of chat along with the features like groups, broadcast channels and more..."}),Object(m.jsx)("hr",{className:"hr"}),Object(m.jsxs)("div",{className:"login-div",style:V,children:[Object(m.jsx)("h1",{className:"login-heading",children:"Login with your mobile no: "}),Object(m.jsx)("input",{className:"input-field",type:"number",placeholder:"Mobile No.",onChange:function(e){b(e.target.value)},value:u}),Object(m.jsx)("button",{className:"login-btn",onClick:function(){Y(u,t.id)},children:"Login"})]}),Object(m.jsxs)("div",{className:"additional-details",style:B,children:[Object(m.jsx)("h1",{className:"login-heading",children:"We just need a few additional details..."}),Object(m.jsx)("input",{className:"input-field",type:"email",placeholder:"email id.",onChange:function(e){f(e.target.value)},value:p}),Object(m.jsx)("input",{className:"input-field",type:"text",placeholder:"Username",onChange:function(e){N(e.target.value)},value:y}),Object(m.jsx)("button",{className:"login-btn",onClick:function(){!function(){Z.apply(this,arguments)}()},children:"Login"})]})]})})]})};var L=function(e){var t=c.a.useContext(x).userSocket,n=Object(s.useState)(""),a=Object(o.a)(n,2),r=a[0],i=a[1],l=Object(s.useState)(""),u=Object(o.a)(l,2),b=u[0],g=u[1],h=Object(s.useState)(""),p=Object(o.a)(h,2),f=p[0],v=p[1],O=Object(s.useState)(""),y=Object(o.a)(O,2),N=y[0],w=y[1],S=Object(s.useState)(""),_=Object(o.a)(S,2),I=_[0],k=_[1],C=Object(s.useState)(""),q=Object(o.a)(C,2),D=q[0],T=q[1],M=Object(s.useState)(""),G=Object(o.a)(M,2),P=G[0],L=G[1],R=Object(s.useState)(""),E=Object(o.a)(R,2),U=E[0],F=E[1],J=Object(s.useState)(""),Q=Object(o.a)(J,2),A=Q[0],H=Q[1],W=Object(s.useState)(""),K=Object(o.a)(W,2),z=K[0],B=K[1];function V(){return(V=Object(j.a)(d.a.mark((function e(){var n,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://localhost:8080/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({fullName:r,username:f,email:I,mobile:P,password:A,socket_ID:t.id})});case 2:return n=e.sent,e.next=5,n.json();case 5:"username already exists"==(s=e.sent).result?w("username already exists"):"An account with this email already exists"==s.result?T("An account with this email already exists"):"An account with this mobile no already exists"==s.result&&F("An account with this mobile no already exists");case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(m.jsxs)("div",{className:"w-100 px-4",children:[Object(m.jsx)("span",{className:"font-bold text-4xl pl-2 border-l-4 border-red-400 text-gray-600",children:"Get Started"}),Object(m.jsxs)("div",{children:[Object(m.jsxs)("div",{children:[Object(m.jsxs)("div",{className:"pt-1 flex relative mt-12 ",children:[Object(m.jsx)("input",{type:"text",className:"form-input px-3 py-2.5 placeholder-blueGray-300 text-blueGray-600 relative border rounded border-blueGray-300 bg-transparent rounded text-sm outline-none focus:outline-none focus:ring w-full",onChange:function(e){i(e.target.value)},value:r}),Object(m.jsx)("span",{className:"absolute -top-1.5 bg-white px-1 ml-2 text-gray-500 text-sm",children:"Full Name"})]}),Object(m.jsx)("div",{className:"p-0 m-0 text-sm text-red-500",children:Object(m.jsx)("span",{children:b})})]}),Object(m.jsxs)("div",{children:[Object(m.jsxs)("div",{className:"pt-1 flex relative mt-4",children:[Object(m.jsx)("input",{type:"text",className:"form-input px-3 py-2.5 placeholder-blueGray-300 text-blueGray-600 relative border rounded border-blueGray-300 bg-transparent rounded text-sm outline-none focus:outline-none focus:ring w-full",onChange:function(e){v(e.target.value)},value:f}),Object(m.jsx)("span",{className:"absolute -top-1.5 bg-white px-1 ml-2 text-gray-500 text-sm",children:"Username"})]}),Object(m.jsx)("div",{className:"p-0 m-0 text-sm text-red-500",children:Object(m.jsx)("span",{children:N})})]}),Object(m.jsxs)("div",{children:[Object(m.jsxs)("div",{className:"pt-1 flex relative mt-4",children:[Object(m.jsx)("input",{type:"email",className:"form-input px-3 py-2.5 placeholder-blueGray-300 text-blueGray-600 relative border rounded border-blueGray-300 bg-transparent rounded text-sm outline-none focus:outline-none focus:ring w-full",onChange:function(e){k(e.target.value)},value:I}),Object(m.jsx)("span",{className:"absolute -top-1.5 bg-white px-1 ml-2 text-gray-500 text-sm",children:"Email ID"})]}),Object(m.jsx)("div",{className:"p-0 m-0 text-sm text-red-500",children:Object(m.jsx)("span",{children:D})})]}),Object(m.jsxs)("div",{children:[Object(m.jsxs)("div",{className:"pt-1 flex relative mt-4",children:[Object(m.jsx)("input",{type:"number",className:"form-input px-3 py-2.5 placeholder-blueGray-300 text-blueGray-600 relative border rounded border-blueGray-300 bg-transparent rounded text-sm outline-none focus:outline-none focus:ring w-full",onChange:function(e){L(e.target.value)},value:P}),Object(m.jsx)("span",{className:"absolute -top-1.5 bg-white px-1 ml-2 text-gray-500 text-sm",children:"Phone Number"})]}),Object(m.jsx)("div",{className:"p-0 m-0 text-sm text-red-500",children:Object(m.jsx)("span",{children:U})})]}),Object(m.jsxs)("div",{children:[Object(m.jsxs)("div",{className:"pt-1 flex relative mt-4",children:[Object(m.jsx)("input",{type:"password",className:"form-input px-3 py-2.5 placeholder-blueGray-300 text-blueGray-600 relative border rounded border-blueGray-300 bg-transparent rounded text-sm outline-none focus:outline-none focus:ring w-full",onChange:function(e){H(e.target.value)},value:A}),Object(m.jsx)("span",{className:"absolute -top-1.5 bg-white px-1 ml-2 text-gray-500 text-sm",children:"Password"})]}),Object(m.jsx)("div",{className:"p-0 m-0 text-sm text-red-500",children:Object(m.jsx)("span",{children:z})})]}),Object(m.jsx)("div",{className:"flex justify-center my-6",children:Object(m.jsx)("button",{onClick:function(){var e=0;0==r.length?g("full Name is required"):(g(""),e+=1),0==f.length?w("username is required"):(w(""),e+=1),0==I.length?T("email is required"):(T(""),e+=1),0==P.length?F("mobile no is required"):P.length<10?F("invalid mobile no"):(F(""),e+=1),0==A.length?B("password is required"):A.length<10?B("password should be atleast 10 charracters long"):(B(""),e+=1),5==e&&(console.log("signing up"),function(){V.apply(this,arguments)}())},className:"py-2 rounded-md px-8 bg-violet-500 text-white font-bold focus:bg-violet-700 hover:bg-violet-600",children:"Register"})}),Object(m.jsxs)("div",{className:"flex items-center",children:[Object(m.jsx)("hr",{}),Object(m.jsx)("span",{className:"px-2",children:"OR"}),Object(m.jsx)("hr",{})]}),Object(m.jsxs)("div",{className:"flex justify-center items-center mt-6",children:[Object(m.jsx)("span",{children:"Already a user?"}),Object(m.jsx)("button",{className:"ml-4 hover:bg-violet-500 px-8 py-2 text-violet-700 hover:text-white border-2 border-violet-500 rounded-lg",onClick:function(){return e.setLoginSection(!0)},children:"Login"})]})]})]})};function R(e,t,n,s,c,a){return E.apply(this,arguments)}function E(){return(E=Object(j.a)(d.a.mark((function e(t,n,s,c,a,r){var o,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://localhost:8080/login_user",{method:"POST",headers:{"Content-Type":"application/json",authorization:"Bearer ".concat(t)},body:JSON.stringify({uniqueKey:n,socketID:s})});case 2:return o=e.sent,e.next=5,o.json();case 5:return i=e.sent,e.t0=console,e.next=9,i;case 9:e.t1=e.sent,e.t0.log.call(e.t0,e.t1),"success"==i.result?(console.log("successfull login!!!",i),sessionStorage.setItem("loggedInUser","".concat(i.username)),sessionStorage.setItem("loggedInMobile","".concat(i.mobile)),sessionStorage.setItem("loggedInAvatar","".concat(i.avatar)),c(i.username),a(i.mobile),r.push("/textPage")):"new user"==i.result&&console.log("login failed");case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var U=function(e){var t=c.a.useContext(x),n=t.userSocket,a=t.setLoggedInUsername,r=t.setLoggedInMobile,i=Object(l.f)(),u=Object(s.useState)(""),b=Object(o.a)(u,2),g=b[0],h=b[1],p=Object(s.useState)(""),f=Object(o.a)(p,2),v=f[0],O=f[1];function y(){return(y=Object(j.a)(d.a.mark((function e(){var t,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://localhost:8080/signin",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({uniqueKey:g,password:v})});case 2:return t=e.sent,e.next=5,t.json();case 5:"success"===(s=e.sent).result&&(console.log("got an access token: ",s),sessionStorage.setItem("accessToken",s.accessToken),R(s.accessToken,g,n.id,a,r,i));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(m.jsxs)("div",{className:"w-100 px-4",children:[Object(m.jsx)("span",{className:"font-bold text-4xl pl-2 border-l-4 border-red-400 text-gray-600",children:"Login"}),Object(m.jsxs)("div",{children:[Object(m.jsxs)("div",{className:"mb-3 pt-1 flex relative mt-12",children:[Object(m.jsx)("input",{type:"text",className:"form-input px-3 py-2.5 placeholder-blueGray-300 text-blueGray-600 relative border rounded border-blueGray-300 bg-transparent rounded text-sm outline-none focus:outline-none focus:ring w-full",onChange:function(e){h(e.target.value)},value:g}),Object(m.jsx)("span",{className:"absolute -top-1.5 bg-white px-1 ml-2 text-gray-500 text-sm",children:"Phone Number / Username"})]}),Object(m.jsxs)("div",{className:"mb-3 pt-1 flex relative mt-4",children:[Object(m.jsx)("input",{type:"password",className:"form-input px-3 py-2.5 placeholder-blueGray-300 text-blueGray-600 relative border rounded border-blueGray-300 bg-transparent rounded text-sm outline-none focus:outline-none focus:ring w-full",onChange:function(e){O(e.target.value)},value:v}),Object(m.jsx)("span",{className:"absolute -top-1.5 bg-white px-1 ml-2 text-gray-500 text-sm",children:"Password"})]}),Object(m.jsx)("div",{className:"flex justify-center my-8",children:Object(m.jsx)("button",{onClick:function(){return y.apply(this,arguments)},className:"py-2 rounded-md px-8 bg-violet-500 text-white font-bold focus:bg-violet-700 hover:bg-violet-600",children:"Login"})}),Object(m.jsxs)("div",{className:"flex items-center",children:[Object(m.jsx)("hr",{}),Object(m.jsx)("span",{className:"px-2",children:"OR"}),Object(m.jsx)("hr",{})]}),Object(m.jsxs)("div",{className:"flex justify-center items-center mt-6",children:[Object(m.jsx)("span",{children:"New to Converse?"}),Object(m.jsx)("button",{className:"ml-4 hover:bg-violet-500 px-8 py-2 text-violet-700 hover:text-white border-2 border-violet-500 rounded-lg",onClick:function(){return e.setLoginSection(!1)},children:"Register"})]})]})]})},F=function(e){var t=Object(s.useRef)(null);return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)("span",{className:"text-gray-400 font-mono",ref:t,children:["<",Object(m.jsx)("span",{className:"text-green-400",children:e.tagName}),">",e.isLink?Object(m.jsx)("a",{href:e.content,className:"text-violet-400 hover:text-violet-300",target:"_blank",children:e.content}):Object(m.jsx)("span",{className:"text-white",children:e.content}),"</",Object(m.jsx)("span",{className:"text-green-400",children:e.tagName}),">"]}),Object(m.jsx)("br",{})]})};var J=function(){var e=c.a.useContext(x),t=(e.userSocket,e.setuserSocket),n=e.setLoggedInUsername,a=e.setLoggedInMobile,r=(e.loggedInUsername,Object(l.f)()),i=c.a.useState(!1),u=Object(o.a)(i,2),b=u[0],g=u[1];return Object(s.useEffect)(Object(j.a)(d.a.mark((function e(){var s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(s=G()("http://localhost:8080/")).on("connect",(function(){console.log("connected with id: ".concat(s.id)),t(s),R(sessionStorage.getItem("accessToken"),sessionStorage.getItem("loggedInUser"),s.id,n,a,r)}));case 2:case"end":return e.stop()}}),e)}))),[]),Object(m.jsxs)("div",{className:"grid grid-cols-10 h-screen",children:[Object(m.jsx)("div",{className:"col-span-7 bg-violet-600 text-white flex justify-center items-center",children:Object(m.jsxs)("div",{className:"px-20 py-12 pb-8 ",children:[Object(m.jsxs)("h1",{className:"text-6xl font-bold items-end flex tracking-wider",children:["Hi there",Object(m.jsx)("img",{src:"/svg/wave.svg",className:"w-14 ml-2"}),","]}),Object(m.jsx)("h1",{className:"text-6xl font-bold items-end tracking-wider",children:"Welcome to Converse"}),Object(m.jsxs)("h4",{className:"text-4xl font-thin font-mono mt-8 flex items-end",children:["</> Made with",Object(m.jsx)("img",{src:"/svg/love.svg",className:"w-10 ml-2 mx-3"})," ","in React"]}),Object(m.jsxs)("div",{className:"mt-8 bg-blueGray-700 rounded-xl overflow-hidden shadow-2xl",children:[Object(m.jsxs)("div",{className:"bg-coolGray-600 p-3 items-center flex",children:[Object(m.jsx)("div",{className:"rounded-full p-2.5 bg-red-400"}),Object(m.jsx)("div",{className:"rounded-full p-2.5 bg-yellow-400 mx-2"}),Object(m.jsx)("div",{className:"rounded-full p-2.5 bg-green-400"})]}),Object(m.jsx)("div",{className:"px-4 pb-2 pt-2",children:Object(m.jsxs)("p",{className:"",children:[Object(m.jsx)(F,{tagName:"Version",content:" v.1.0.0 "}),Object(m.jsx)(F,{tagName:"GithubRepo",content:"https://github.com/Sardar1208/chat",isLink:!0}),Object(m.jsx)(F,{tagName:"Description",content:Object(m.jsx)("div",{className:"ml-4",children:"Currently, Converse is a Socket based chat application that connects users to other users and allows them to exchange text messages in real-time."})}),Object(m.jsx)(F,{tagName:"Features",content:Object(m.jsxs)("div",{className:"ml-4 list-decimal block",children:[Object(m.jsx)("li",{children:"Invite/Request based follower system"}),Object(m.jsx)("li",{children:"Handles offline user's messages"})]})})]})})]})]})}),Object(m.jsx)("div",{className:"py-12 px-4 col-span-3 bg-white flex justify-center items-center ",children:b?Object(m.jsx)(U,{setLoginSection:g}):Object(m.jsx)(L,{setLoginSection:g})})]})};n(101),n(102);var Q=function(){var e=c.a.useState([]),t=Object(o.a)(e,2),n=t[0],s=t[1],a=c.a.useState({}),r=Object(o.a)(a,2),u=r[0],d=r[1],b=c.a.useState(null),j=Object(o.a)(b,2),g=j[0],h=j[1],p=c.a.useState({}),f=Object(o.a)(p,2),v=f[0],O=f[1],y=c.a.useState(""),N=Object(o.a)(y,2),w=N[0],S=N[1],_=c.a.useState(""),I=Object(o.a)(_,2),k=I[0],C=I[1],q=c.a.useState([]),T=Object(o.a)(q,2),M=T[0],G=T[1],L=c.a.useState([]),R=Object(o.a)(L,2),E=R[0],U=R[1],F={contacts:n,setContacts:s,currentContact:u,setCurrentContact:d,userSocket:g,setuserSocket:h,unreadCount:v,setUnreadCount:O,conversationIds:M,setConversationIds:G,loggedInUsername:w,setLoggedInUsername:S,loggedInMobile:k,setLoggedInMobile:C,lastElmRef:c.a.useRef(null),textQueue:E,setTextQueue:U};return Object(m.jsx)(x.Provider,{value:F,children:Object(m.jsxs)(i.a,{children:[Object(m.jsx)("div",{className:"App"}),Object(m.jsxs)(l.c,{children:[Object(m.jsx)(l.a,{path:"/",exact:!0,component:J}),Object(m.jsx)(l.a,{path:"/login",component:P}),Object(m.jsx)(l.a,{path:"/textPage",component:D})]})]})})},A=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,106)).then((function(t){var n=t.getCLS,s=t.getFID,c=t.getFCP,a=t.getLCP,r=t.getTTFB;n(e),s(e),c(e),a(e),r(e)}))};r.a.render(Object(m.jsx)(c.a.StrictMode,{children:Object(m.jsx)(Q,{})}),document.getElementById("root")),A()},60:function(e,t,n){},62:function(e,t,n){},68:function(e,t,n){}},[[103,1,2]]]);
//# sourceMappingURL=main.3345dee4.chunk.js.map